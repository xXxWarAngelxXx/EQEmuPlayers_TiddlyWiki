[
    {
        "text": "\\define TableWizardDisplayTableDummyMacro()\n  <<DisplayTable \"\"\"$(ConfigTiddler)$\"\"\">>\n\\end\n\n\\define TableWizardColumnSelectCheckbox()\n  <$checkbox tiddler='$:/state/$(ConfigTiddler)$/Display Columns/$(ThisDisplayColumn)$' field='show' checked='$(ThisDisplayColumn)$' unchecked=''>\n    <$view tiddler=\"\"\"$(ThisDisplayColumn)$\"\"\" field=caption>\n      $(ThisDisplayColumn)$\n    </$view>\n  </$checkbox>  \n\\end\n\n\\define TableWizardSubcolumnSelectCheckbox()\n  <$checkbox tiddler='$:/state/$(ConfigTiddler)$/Display Subcolumns/$(ThisDisplaySubcolumn)$' field='show' checked='$(ThisDisplaySubcolumn)$' unchecked=''>\n    <$view tiddler=\"\"\"$(ThisDisplaySubcolumn)$\"\"\" field=caption>\n      $(ThisDisplaySubcolumn)$\n    </$view>\n  </$checkbox>  \n\\end\n\n\\define TableWizardRowSelectCheckbox()\n  <$checkbox tiddler='$:/state/$(ConfigTiddler)$/Display Rows/$(ThisDisplayRow)$' field='show' checked='$(ThisDisplayRow)$' unchecked=''>\n    <$view tiddler=\"\"\"$(ThisDisplayRow)$\"\"\" field=caption>\n      $(ThisDisplayRow)$\n    </$view>\n  </$checkbox>  \n\\end\n\n\\define TableWizardMakeColumnSelectCheckbox()\n  <$list filter='[tag{$(ConfigTiddler)$!!column_tag}]' variable=ThisDisplayColumn>\n    <<TableWizardColumnSelectCheckbox>>\n  </$list>\n\\end\n\n\\define TableWizardMakeSubcolumnSelectCheckbox()\n  <$list filter='[tag{$(ConfigTiddler)$!!subcolumn_tag}]' variable=ThisDisplaySubcolumn>\n    <<TableWizardSubcolumnSelectCheckbox>>\n  </$list>\n\\end\n\n\\define TableWizardMakeRowSelectCheckbox()\n  <$list filter='[tag{$(ConfigTiddler)$!!row_tag}]' variable=ThisDisplayRow>\n    <<TableWizardRowSelectCheckbox>>\n  </$list>\n\\end\n\n\\define TableWizardButtonSubcolumn()\n  <$reveal type='nomatch' state=\"\"\"$:/state/$(ConfigTiddler)$/$(ThisRow)$/$(ThisColumn)$/$(ThisSubcolumn)$\"\"\" text='edit'>\n    <div style='height:100%;width:100%;'>\n      <$button class='tc-btn-invisible' style='height:100%;width:100%;'>\n        <$view tiddler=\"\"\"$:/Data/$(ThisRow)$/$(ThisColumn)$/$(ThisSubcolumn)$/$(ThisItem)$\"\"\" field=subcolumn_data>\n          <<MissingMessage>>\n        </$view>\n        <$action-setfield $tiddler=\"\"\"$:/state/$(ConfigTiddler)$/$(ThisRow)$/$(ThisColumn)$/$(ThisSubcolumn)$\"\"\" $value=edit/>\n      </$button>\n    </div>\n  </$reveal>\n  <$reveal type='match' state=\"\"\"$:/state/$(ConfigTiddler)$/$(ThisRow)$/$(ThisColumn)$/$(ThisSubcolumn)$\"\"\" text='edit'>\n    <$button>\n      {{$:/core/images/done-button}}\n      <$action-setfield $tiddler=\"\"\"$:/state/$(ConfigTiddler)$/$(ThisRow)$/$(ThisColumn)$/$(ThisSubcolumn)$\"\"\" $value=''/>\n    </$button>\n    <$edit-text tiddler=\"\"\"$:/Data/$(ThisRow)$/$(ThisColumn)$/$(ThisSubcolumn)$/$(ThisItem)$\"\"\" field=subcolumn_data size=1/>\n  </$reveal>\n\\end\n\n\\define TableWizardSubcolumnDisplayEntry()\n  <td>\n    <$reveal type='nomatch' state=\"\"\"$(ConfigTiddler)$!!allow_edit\"\"\" text='yes'>\n      <$view tiddler=\"\"\"$:/Data/$(ThisRow)$/$(ThisColumn)$/$(ThisSubcolumn)$/$(ThisItem)$\"\"\" field=subcolumn_data>\n        <<MissingMessage>>\n      </$view>\n    </$reveal>\n    <$reveal type='match' state=\"\"\"$(ConfigTiddler)$!!allow_edit\"\"\" text='yes'>\n      <<TableWizardButtonSubcolumn>>\n    </$reveal>\n  </td>\n\\end\n\n\\define TableWizardButtonColumn()\n  <$reveal type='nomatch' state=\"\"\"$:/state/$(ConfigTiddler)$/$(ThisRow)$/$(ThisColumn)$!!$(ThisColumn)$\"\"\" text='edit'>\n    <div style='height:100%;width:100%;'>\n      <$button class='tc-btn-invisible' style='height:100%;width:100%;'>\n        <$view tiddler=\"\"\"$:/Data/$(ThisRow)$/$(ThisColumn)$/$(ThisItem)$\"\"\" field='column_data'>\n          <<MissingMessage>>\n        </$view>\n        <$action-setfield $tiddler=\"\"\"$:/state/$(ConfigTiddler)$/$(ThisRow)$/$(ThisColumn)$\"\"\" $field=$(ThisColumn)$ $value=edit/>\n      </$button>\n    </div>\n  </$reveal>\n  <$reveal type='match' state=\"\"\"$:/state/$(ConfigTiddler)$/$(ThisRow)$/$(ThisColumn)$!!$(ThisColumn)$\"\"\" text='edit'>\n    <$button>\n      {{$:/core/images/done-button}}\n      <$action-setfield $tiddler=\"\"\"$:/state/$(ConfigTiddler)$/$(ThisRow)$/$(ThisColumn)$\"\"\" $field=$(ThisColumn)$ $value=''/>\n    </$button>\n      <$edit-text tiddler=\"\"\"$:/Data/$(ThisRow)$/$(ThisColumn)$/$(ThisItem)$\"\"\" field=column_data size=1/>\n  </$reveal>\n\\end\n\n\\define TableWizardColumnDisplayEntry()\n  <td>\n    <$reveal type='nomatch' state=\"\"\"$(ConfigTiddler)$!!allow_edit\"\"\" text='yes'>\n      <$view tiddler=\"\"\"$:/Data/$(ThisRow)$/$(ThisColumn)$/$(ThisItem)$\"\"\" field='column_data'>\n        <<MissingMessage>>\n      </$view>\n    </$reveal>\n    <$reveal type='match' state=\"\"\"$(ConfigTiddler)$!!allow_edit\"\"\" text='yes'>\n      <<TableWizardButtonColumn>>\n    </$reveal>\n  </td>\n\\end\n\n\\define TableWizardDisplayTableWithSubcolumns(DataTag ColumnTag SubcolumnTag RowTag SubcolumnPerColumn EmptyMessage)\n@@text-align:center;\n  <$set name='ColumnList' filter='[prefix[$:/state/$(ConfigTiddler)$/Display Columns]has[show]get[show]tag[$ColumnTag$]sort[title]]-[[text]]-[[title]]-[[modified]]-[[created]]'>\n    <$set name='SubcolumnList' filter='[prefix[$:/state/$(ConfigTiddler)$/Display Subcolumns]has[show]get[show]tag[$SubcolumnTag$]sort[title]]-[[text]]-[[title]]-[[modified]]-[[created]]'>\n      <$set name='RowList' filter='[prefix[$:/state/$(ConfigTiddler)$/Display Rows]has[show]get[show]tag[$RowTag$]sort[title]]-[[text]]-[[title]]-[[modified]]-[[created]]'>\n        <$set name=MissingMessage value='$EmptyMessage$'>\n          <$set name=ThisItem value={{$(ConfigTiddler)$!!selected_data}}>\n            <table style='width:100%;border-color:black;'>\n              <tr>\n                <td style='background-color:lightgrey;border-color:black;'>\n                </td>\n                <$list filter=<<ColumnList>>>\n                  <td colspan=\"$SubcolumnPerColumn$\" style='background-color:lightgrey;border-color:black;'>\n                    <$link to=<<currentTiddler>>>\n                      <$view field='caption'>\n                        <<currentTiddler>>\n                      </$view>\n                    </$link>\n                  </td>\n                </$list>\n              </tr>\n                <tr style='width:100%;bordor-color:black;'>\n                  <td style='border-left-color:black;'>\n                  </td>\n                  <$list filter=<<ColumnList>>>\n                    <$list filter=<<SubcolumnList>> variable=ThisSubcolumn>\n                      <td>\n                        <$link to=<<ThisSubcolumn>>>\n                          <$view tiddler=<<ThisSubcolumn>> field=caption>\n                            <<ThisSubcolumn>>\n                          </$view>\n                        </$link>\n                      </td>\n                    </$list>\n                  </$list>\n                </tr>\n                <$list filter=<<RowList>> variable=ThisRow>\n                  <tr>\n                    <td style='border-left:0px;'>\n                      <$link to=<<ThisRow>>>\n                        <$view tiddler=<<ThisRow>> field=caption>\n                          <<ThisRow>>\n                        </$view>\n                      </$link>\n                    </td>\n                    <$list filter=<<ColumnList>> variable=ThisColumn>\n                      <$list filter=<<SubcolumnList>> variable=ThisSubcolumn>\n                        <<TableWizardSubcolumnDisplayEntry>>\n                      </$list>\n                    </$list>\n                  </tr>\n                </$list>\n            </table>\n          </$set>\n        </$set>\n      </$set>\n    </$set>\n  </$set>\n@@\n\\end\n\n\\define TableWizardDisplayTableMacro(DataTag ColumnTag RowTag EmptyMessage)\n@@text-align:center;\n  <$set name='ColumnList' filter='[prefix[$:/state/$(ConfigTiddler)$/Display Columns]has[show]get[show]tag[$ColumnTag$]sort[title]]-[[text]]-[[title]]-[[modified]]-[[created]]'>\n    <$set name='RowList' filter='[prefix[$:/state/$(ConfigTiddler)$/Display Rows]has[show]get[show]tag[$RowTag$]sort[title]]-[[text]]-[[title]]-[[modified]]-[[created]]'>\n      <$set name=ThisItem value={{$(ConfigTiddler)$!!selected_data}}>\n        <$set name=MissingMessage value='$EmptyMessage$'>\n          <table style='width:100%;border-color:black;'>\n            <tr>\n              <td style='background-color:lightgrey;border-color:black;'>\n              </td>\n              <$list filter=<<ColumnList>>>\n                <td style='background-color:lightgrey;border-color:black;'>\n                  <$link to=<<currentTiddler>>>\n                    <$view field='caption'>\n                      <<currentTiddler>>\n                    </$view>\n                  </$link>\n                </td>\n              </$list>\n            </tr>\n            <$list filter=<<RowList>> variable=ThisRow>\n              <tr>\n                <td style='border-left:0px;'>\n                  <$link to=<<ThisRow>>>\n                    <$view tiddler=<<ThisRow>> field=caption>\n                      <<ThisRow>>\n                    </$view>\n                  </$link>\n                </td>\n                <$list filter=<<ColumnList>> variable=ThisColumn>\n                  <<TableWizardColumnDisplayEntry>>\n                </$list>\n              </tr>\n            </$list>\n          </table>\n        </$set>\n      </$set>\n    </$set>\n  </$set>\n@@\n\\end\n\n\\define MakeTableWizard()\n\nEnter the name of the configuration tiddler to create:\n\n<$edit-text tiddler='$:/temp/MakeTableWizard' field='config_tiddler_name' class='tc-edit-texteditor' placeholder='Configuration Tiddler Name'/>\n\n<$reveal type='match' state='$:/temp/MakeTableWizard!!config_tiddler_name' text=''>\nYou have to enter a configuration tiddler name first.\n</$reveal>\n\n<$reveal type='nomatch' state='$:/temp/MakeTableWizard!!config_tiddler_name' text=''>\n\n<$set name=ConfigTiddler value={{$:/temp/MakeTableWizard!!config_tiddler_name}}>\n<$checkbox tiddler=<<ConfigTiddler>> field='include_subcolumns' checked='yes' unchecked='no'>Include Subcolumns</$checkbox><br>\n\n<$tiddler tiddler=<<ConfigTiddler>>>\nData tag:\n<$edit-text field='dataset_tag' class='tc-edit-texteditor'/>\n\nSelect Dataset Name <$reveal type='nomatch' state='!!show_new_dataset' text='true'>(<$button>Create New Datasets<$action-setfield show_new_dataset=true/></$button>):<br><br></$reveal>\n<$reveal type='match' state='!!show_new_dataset' text='true'>(<$button>Done Creating Datasets<$action-setfield show_new_dataset=false/></$button>):<br><br>\n<$edit-text tiddler='$:/temp/MakeTableWizard' field='new_dataset_name' class='tc-edit-texteditor' placeholder='New Dataset Name'/>\n<$button>Create Dataset<$action-setfield $tiddler={{$:/temp/MakeTableWizard!!new_dataset_name}} tags={{!!dataset_tag}}/><$action-setfield $tiddler='$:/temp/MakeTableWizard' new_dataset_name=''/></$button><br><br>\n</$reveal>\n<$select field='selected_data'><$list filter='[tag{!!dataset_tag}]'><option><<currentTiddler>></option></$list></$select>\n<br>\n\n<$set name=SelectedData value={{!!selected_data}}>\n\nColumn tag:\n<$edit-text field='column_tag' class='tc-edit-texteditor'/><br><br>\n\nSelect Columns to display <$reveal type='nomatch' state='!!show_new_column' text='true'>(<$button>Create New Columns<$action-setfield show_new_column=true/></$button>):<br><br></$reveal>\n<$reveal type='match' state='!!show_new_column' text='true'>(<$button>Done Creating Columns<$action-setfield show_new_column=false/></$button>):<br><br>\n<$edit-text tiddler='$:/temp/MakeTableWizard' field='new_column_name' class='tc-edit-texteditor' placeholder='New Column Name'/>\n<$button>Create Column<$action-setfield $tiddler={{$:/temp/MakeTableWizard!!new_column_name}} tags={{!!column_tag}}/><$action-setfield $tiddler='$:/temp/MakeTableWizard' new_column_name=''/></$button><br><br>\n</$reveal>\n\n<<TableWizardMakeColumnSelectCheckbox>><br><br>\n\n<$reveal type='match' state='!!include_subcolumns' text='yes'>\n\nSubcolumn tag:\n<$edit-text field='subcolumn_tag' class='tc-edit-texteditor'/>\n\nSubcolumns per column:\n<$edit-text field='subcolumn_per_column' class='tc-edit-texteditor'/>\n\nSelect subcolumns to display <$reveal type='nomatch' state='!!show_new_subcolumn' text='true'>(<$button>Create New Subcolmun<$action-setfield show_new_subcolumn=true/></$button>):<br><br></$reveal>\n<$reveal type='match' state='!!show_new_subcolumn' text='true'>(<$button>Done Creating Subcolumns<$action-setfield show_new_subcolumn=false/></$button>):<br><br>\n<$edit-text tiddler='$:/temp/MakeTableWizard' field='new_subcolumn_name' class='tc-edit-texteditor' placeholder='New Subcolumn Name'/>\n<$button>Create Subcolumn<$action-setfield $tiddler={{$:/temp/MakeTableWizard!!new_subcolumn_name}} tags={{!!subcolumn_tag}}/><$action-setfield $tiddler='$:/temp/MakeTableWizard' new_subcolumn_name=''/></$button><br><br>\n</$reveal>\n\n<<TableWizardMakeSubcolumnSelectCheckbox>><br>\n\n</$reveal>\n\nRow tag:\n<$edit-text field='row_tag' class='tc-edit-texteditor'/><br><br>\n\nSelect rows to display <$reveal type='nomatch' state='!!show_new_row' text='true'>(<$button>Create New Rows<$action-setfield show_new_row=true/></$button>):<br><br></$reveal>\n<$reveal type='match' state='!!show_new_row' text='true'>(<$button>Done Creating Rows<$action-setfield show_new_row=false/></$button>):<br><br>\n<$edit-text tiddler='$:/temp/MakeTableWizard' field='new_row_name' class='tc-edit-texteditor' placeholder='New Row Name'/>\n<$button>Create Row<$action-setfield $tiddler={{$:/temp/MakeTableWizard!!new_row_name}} tags={{!!row_tag}}/><$action-setfield $tiddler='$:/temp/MakeTableWizard' new_row_name=''/></$button><br><br>\n</$reveal>\n\n<<TableWizardMakeRowSelectCheckbox>><br><br>\n\nEmpty cell message:\n<$edit-text field='empty_message' class='tc-edit-texteditor'/>\n\n<$checkbox field='allow_edit' checked='yes' unchecked='no'>Allow Inline Editing</$checkbox><br>\n\n<$reveal type='match' state='!!show_table' text='yes'>\n\n</$reveal>\n\n</$set>\n\n</$tiddler>\n<$button>Refresh Table\n<$action-setfield dummy=1/>\n</$button>\n<<TableWizardDisplayTableDummyMacro>>\n</$set>\n</$reveal>\n\\end\n\n\\define TableWizardDisplayTableInside()\n<$reveal type='nomatch' state=\"\"\"$(ConfigTiddler)$!!include_subcolumns\"\"\" text='yes'>\n<$macrocall $name=TableWizardDisplayTableMacro DataTag={{$(ConfigTiddler)$!!dataset_tag}} ColumnTag={{$(ConfigTiddler)$!!column_tag}} RowTag={{$(ConfigTiddler)$!!row_tag}} EmptyMessage={{$(ConfigTiddler)$!!empty_message}}/>\n</$reveal>\n\n<$reveal type='match' state=\"\"\"$(ConfigTiddler)$!!include_subcolumns\"\"\" text='yes'>\n<$macrocall $name=TableWizardDisplayTableWithSubcolumns DataTag={{$(ConfigTiddler)$!!dataset_tag}} ColumnTag={{$(ConfigTiddler)$!!column_tag}} RowTag={{$(ConfigTiddler)$!!row_tag}} EmptyMessage={{$(ConfigTiddler)$!!empty_message}} SubcolumnTag={{$(ConfigTiddler)$!!subcolumn_tag}} SubcolumnPerColumn={{$(ConfigTiddler)$!!subcolumn_per_column}}/>\n</$reveal>\n\\end\n\n\\define DisplayTable(ConfigTiddler)\n<$set name=ConfigTiddler value=\"\"\"$ConfigTiddler$\"\"\">\n<<TableWizardDisplayTableInside>>\n</$set>\n\\end\n\n\\define TableMacrosColumnInnerInnerRows()\n<tr>\n  <th>\n  </th>\n  <$list filter='$(ColumnList)$+[sort{$(TableMacrosMakeTableSortStateTiddler)$}]'>\n    <th>\n      <<currentTiddler>>\n    </th>\n  </$list>\n</tr>\n<$list filter=<<FieldsList>> variable=ThisField>\n  <tr>\n    <th>\n      <$button class='tc-btn-invisible' set=<<TableMacrosMakeTableSortStateTiddler>> setTo=<<ThisField>>><<ThisField>></$button>\n    </th>\n    <$list filter='$(ColumnList)$+[sort{$(TableMacrosMakeTableSortStateTiddler)$}]' variable=ThisTiddler>\n      <td>\n        <<TableMacrosInlineEditButton>>\n      </td>\n    </$list>\n  </tr>\n</$list>\n\\end\n\n\\define TableMacrosInnerColumnTable()\n<$set name=FieldsList1 filter='$(ColumnList)$+[fields[]]-[[text]]-[[title]]-[[modified]]-[[created]]-[[tags]]'>\n<$set name=FieldsList filter='[is[system]!is[system]]$(FieldsUsed)$' emptyValue=<<FieldsList1>>>\n<$set name=RowOrColumn value=Column>\n<$set name=TableSortState value=<<TableMacrosMakeTableSortState>>>\n  <table>\n    <<TableMacrosColumnInnerInnerRows>>\n  </table>\n</$set>\n</$set>\n</$set>\n</$set>\n\\end\n\n\\define TableMacrosMakeTableSortState()\n{{$:/state/tables/Sort/$(RowOrColumn)$/$(FieldsList)$}}\n\\end\n\n\\define TableMacrosMakeTableSortStateTiddler()\n$:/state/tables/Sort/$(RowOrColumn)$/$(FieldsList)$\n\\end\n\n\\define TableMacrosRowTableInnerInnerRows()\n<$list filter='$(RowList)$+[sort{$(TableMacrosMakeTableSortStateTiddler)$}]' variable=ThisTiddler>\n  <tr>\n    <th>\n      <<ThisTiddler>>\n    </th>\n    <$list filter=<<FieldsList>> variable=ThisField>\n      <td>\n        <<TableMacrosInlineEditButton>>\n      </td>\n    </$list>\n  </tr>\n</$list>\n\\end\n\n\\define TableMacrosInnerRowTable()\n<$set name=FieldsList1 filter='$(RowList)$+[fields[]]-[[text]]-[[title]]-[[modified]]-[[created]]-[[tags]]'>\n<$set name=FieldsList filter='[is[system]!is[system]]$(FieldsUsed)$' emptyValue=<<FieldsList1>>>\n<$set name=RowOrColumn value=Row>\n<$set name=TableSortState value=<<TableMacrosMakeTableSortState>>>\n  <table>\n    <tr>\n      <th>\n        <$button class='tc-btn-invisible' style='width:100%;height:100%' set=<<TableMacrosMakeTableSortStateTiddler>> setTo=title>Title</$button>\n      </th>\n      <$list filter=<<FieldsList>>>\n        <th>\n          <$button class='tc-btn-invisible' set=<<TableMacrosMakeTableSortStateTiddler>> setTo=<<currentTiddler>>><<currentTiddler>></$button>\n        </th>\n      </$list>\n    </tr>\n    <<TableMacrosRowTableInnerInnerRows>>\n  </table>\n</$set>\n</$set>\n</$set>\n</$set>\n\\end\n\n\\define ColumnTable(filter fields)\n<$set name='ColumnList' value='$filter$'>\n<$set name='FieldsUsed' value='$fields$'>\n\n<<TableMacrosInnerColumnTable>>\n\n</$set>\n</$set>\n\\end\n\n\\define RowTable(filter fields)\n<$set name='RowList' value='$filter$'>\n<$set name='FieldsUsed' value='$fields$'>\n\n<<TableMacrosInnerRowTable>>\n\n</$set>\n</$set>\n\\end\n\n\\define TableMacrosInlineEditButton()\n<$reveal type='nomatch' state=\"\"\"$:/temp/edit/$(ThisTiddler)$/$(ThisField)$\"\"\" text='edit'>\n<$button set=\"\"\"$:/temp/edit/$(ThisTiddler)$/$(ThisField)$\"\"\" setTo=edit class='tc-btn-invisible' style='width:100%;hegiht:100%'>\n<$view tiddler=<<ThisTiddler>> field=<<ThisField>>>--</$view>\n</$button>\n</$reveal>\n<$reveal type='match' state=\"\"\"$:/temp/edit/$(ThisTiddler)$/$(ThisField)$\"\"\" text='edit'>\n<$button set=\"\"\"$:/temp/edit/$(ThisTiddler)$/$(ThisField)$\"\"\" setTo=noedit>{{$:/core/images/done-button}}</$button>\n<$edit-text tiddler=<<ThisTiddler>> field=<<ThisField>> size=1/>\n</$reveal>\n\\end",
        "tags": "$:/tags/Macro",
        "created": "20150319034848355",
        "modified": "20151026094051616",
        "title": "Table Macros"
    }
]